# Example environment for Notion Storage
# All values shown are the current defaults used by the app

# --- App Secrets ---
# Flask session key. Defaults to 'dev-secret-key' if unset (development only).
SECRET_KEY=dev-secret-key

# --- Notion API ---
# Required: Notion integration token.
NOTION_API_TOKEN=
# Required: Notion database ID for the Users table.
NOTION_USER_DB_ID=
# Optional: Global File Index database ID (if you use the global index).
GLOBAL_FILE_INDEX_DB_ID=

# --- Upload Behavior ---
# Files at or below this size are uploaded as a single-part upload.
# Defaults to 20MiB. Notion multipart is currently required when files exceed this size.
NOTION_SINGLE_PART_THRESHOLD=20MiB

# Chunk size for multipart uploads to Notion. Defaults to 5MiB.
# IMPORTANT: Notion currently accepts 5–20MiB per multipart chunk.
# Keep this in the 5MiB–20MiB range.
NOTION_MULTIPART_CHUNK_SIZE=5MiB

# Advanced: Threshold at which very large files are internally split into parts
# (each part becomes its own DB entry plus one manifest in the end). Default is 5MiB which currently is the limit for the free plan for notion.
FILE_SPLIT_THRESHOLD=5MiB

# Maximum parallel workers for multipart chunk uploads (default: 10).
MAX_PARALLEL_UPLOAD_WORKERS=10

# --- S3 Downloader / Streaming ---
# Max concurrent S3 transfers and connection pool size (default: 10).
MAX_S3_CONCURRENCY=10

# Streaming download chunk size when reading from Notion/S3 (default: 1MiB).
DOWNLOAD_CHUNK_SIZE=1MiB

# --- Notes ---
# - Multipart uploads are used when a file is over 20MiB (NOTION_SINGLE_PART_THRESHOLD).
# - The multipart part size (NOTION_MULTIPART_CHUNK_SIZE) must currently be between 5MiB and 20MiB.
# - Default part size is 5MiB; subscribers of notion may choose higher values if supported.